---
interface Props {
  characterName: string;
  sheetUrl: string;
  variant?: 'button' | 'link' | 'icon';
}

const { characterName, sheetUrl, variant = 'button' } = Astro.props;
---

{variant === 'button' && (
  <a
    href={sheetUrl}
    download
    class="inline-flex items-center gap-2 px-4 py-2 bg-imperial-alert text-white rounded hover:bg-opacity-80 transition-colors focus:outline-none focus:ring-2 focus:ring-imperial-alert focus:ring-offset-2 focus:ring-offset-imperial-bg"
    aria-label={`Download character sheet for ${characterName}`}
  >
    <svg width="20" height="20" class="flex-shrink-0" viewBox="0 0 24 24" fill="#ffffff" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
    </svg>
    <span class="font-medium">Download Character Sheet</span>
  </a>
)}

{variant === 'link' && (
  <a
    href={sheetUrl}
    download
    class="text-imperial-alert hover:text-imperial-alert/80 underline focus:outline-none focus:ring-2 focus:ring-imperial-alert"
    aria-label={`Download character sheet for ${characterName}`}
  >
    Download Character Sheet
  </a>
)}

{variant === 'icon' && (
  <a
    href={sheetUrl}
    download
    class="text-imperial-mute hover:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-imperial-alert rounded"
    aria-label={`Download character sheet for ${characterName}`}
    title={`Download ${characterName} character sheet`}
  >
    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path fill="none" stroke="#9AA0A6" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
    </svg>
  </a>
)}
